# Generated by Django 4.2 on 2023-08-24 20:07

from django.conf import settings
import django.contrib.postgres.indexes
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('main', '0001_initial'),
    ]

    operations = [
        migrations.AddField(
            model_name='themeviews',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='themes',
            name='comments',
            field=models.ManyToManyField(related_name='comments', to='main.themecomments'),
        ),
        migrations.AddField(
            model_name='themes',
            name='likes',
            field=models.ManyToManyField(to='main.themelikes'),
        ),
        migrations.AddField(
            model_name='themes',
            name='parent_theme',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='main.themes', verbose_name='Подтема для'),
        ),
        migrations.AddField(
            model_name='themes',
            name='sub_cards',
            field=models.ManyToManyField(to='main.cards'),
        ),
        migrations.AddField(
            model_name='themes',
            name='sub_themes',
            field=models.ManyToManyField(to='main.themes'),
        ),
        migrations.AddField(
            model_name='themes',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Автор'),
        ),
        migrations.AddField(
            model_name='themes',
            name='views',
            field=models.ManyToManyField(to='main.themeviews'),
        ),
        migrations.AddField(
            model_name='themelikes',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='themecomments',
            name='sub_comment_to',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.themecomments'),
        ),
        migrations.AddField(
            model_name='themecomments',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='themeaccess',
            name='theme',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.themes'),
        ),
        migrations.AddField(
            model_name='themeaccess',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='cardviews',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='cards',
            name='comments',
            field=models.ManyToManyField(to='main.cardcomments'),
        ),
        migrations.AddField(
            model_name='cards',
            name='likes',
            field=models.ManyToManyField(to='main.cardlikes'),
        ),
        migrations.AddField(
            model_name='cards',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Автор'),
        ),
        migrations.AddField(
            model_name='cards',
            name='views',
            field=models.ManyToManyField(to='main.cardviews'),
        ),
        migrations.AddField(
            model_name='cardlikes',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='cardcomments',
            name='sub_comment_to',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.cardcomments'),
        ),
        migrations.AddField(
            model_name='cardcomments',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='cardaccess',
            name='card',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.cards'),
        ),
        migrations.AddField(
            model_name='cardaccess',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddIndex(
            model_name='themes',
            index=django.contrib.postgres.indexes.GinIndex(fields=['search_vector'], name='main_themes_search__ec7590_gin'),
        ),
        migrations.AddIndex(
            model_name='cards',
            index=django.contrib.postgres.indexes.GinIndex(fields=['search_vector'], name='main_cards_search__b32a70_gin'),
        ),
    ]
